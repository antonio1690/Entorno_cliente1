<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ejemplos Dia 04-10 La Peliculera</title>
  </head>
  <body>
    <script>
      // Resolucion con if
      // 1. Pide el nombre del cliente. Si el nombre no es un tipo String o es nulo, debe producir un mensaje de error e insistir.
      var nombreCliente = prompt("Introduce tu nombre")
      while (!isNaN(nombreCliente) || nombreCliente == null) {
        nombreCliente = prompt(
          "Se ha producido un error, vuelve a introducir tu nombre"
        )
      }

      // 2. Pide la edad del cliente. Si la edad no es dato numérico o es nulo, debe producir un mensaje de error e insistir.
      var edadCliente = prompt("Introduce tu edad")
      while (isNaN(edadCliente) || edadCliente == null) {
        edadCliente = prompt(
          "Se ha producido un error, vuelve a introducir tu edad"
        )
      }
      var cartelera = [
          "1- Spider Man\n",
          "2- Superman\n",
          "3- Dragon Ball Super\n",
          "4- La era del hielo\n",
          "5- 18videos\n",
        ]
      console.log("Esta es la Cartelera: ",cartelera.toString, nombreCliente, edadCliente)
      // alert(cartelera.toString())
      // for (let i = 0; i < cartelera.length; i++) {
      //   alert(cartelera[i])
      // }

      var peliculaCliente = parseInt(prompt("Que pelicula quieres ver?\n" +cartelera.toString()))

      while (isNaN(peliculaCliente)||peliculaCliente >= 1||peliculaCliente <=cartelera.length || peliculaCliente == null) {
        peliculaCliente = prompt(
          "Se ha producido un error, vuelve a introducir la pelicula que quieres ver"
        )
      }

      var entrada = 8.5

      if (edadCliente <= 17) {
        entrada *= 0.5
        var comidasBebidas = ["Caramelos", "refresco"]

        while (peliculaCliente == cartelera.length) {
          peliculaCliente = prompt(
            "La pelicula que quieres ver es para mayores de 18 años, introduce una pelicula apta para tu edad"
          )
        }
      } else if (edadCliente <= 25) {
        var comidasBebidas = ["Palomitas", "perrito", "refresco"]
      } else if (edadCliente <= 35) {
        entrada -= entrada * 0.1
        var comidasBebidas = ["Perrito", "refresco"]
      } else {
        entrada -= entrada * 0.2
        var comidasBebidas = ["Agua"]
      }

      console.log("Nombre: "+nombreCliente + " Edad: "+edadCliente);
      console.log("Pelicula: " +peliculaCliente);
      console.log("Regalos: "+comidasBebidas.toString());
      console.log("Precio entrada: ", entrada);
      document.body.append(document.createElement("p").textContent="Nombre: "+nombreCliente+ " Edad: "+edadCliente)
      document.body.append(document.createElement("p").textContent="Pelicula: " +peliculaCliente)
      document.body.append(document.createElement("p").textContent="Regalos: "+comidasBebidas.toString())
      document.body.append(document.createElement("p").textContent="Precio entrada: ", entrada)

    </script>
  </body>
</html>
